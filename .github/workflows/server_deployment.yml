name: Deploy2

# Trigger the workflow on push and
# pull request events on the production branch
on:
  push:
    branches:
      - production
      - master
  pull_request:
    branches:
      - production

# Authenticate to the the server via ssh
# and run our deployment script
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Complie Css And Java script
        run: |
          npm ci
          npm run prod
      uses: shivammathur/setup-php@master
      name:  Configure PHP 8.0
        with :
        php-version: 8.0
        extensions: mbstring, ctype, fileinfo, openssl, PDO, bcmath, json, tokenizer, xml

        - name : install Composer
        - run : composer install --no-dev --nointeraction --prefer-dist ,
        # uses: appleboy/ssh-action@master
        # with:
        #   host: ${{ secrets.HOST }}
        #   username: ${{ secrets.USERNAME }}
        #   port: ${{ secrets.PORT }}
        #   key: ${{ secrets.SSHKEY }}
        #   script: "cd /var/www/html && ./.scripts/deploy.sh"
        #jksa altignai osman
